#!/usr/bin/env ruby

require 'date'
require 'google_drive'

class Date
  def weekend?
    saturday? or sunday?
  end
end

class Timesheet
  def initialize(h={:configfile => "#{ENV['HOME']}/.timesheet.yml"})
    @config = YAML.load File.read h[:configfile] # TODO: not from file
  end
end

begin
  d = Date.parse ARGV.join ' '
rescue ArgumentError
  d = Date.parse Date.today.strftime "%Y-%m-01" # this month, 1st day
end

m = d.month

ts = Timesheet.new

while (d.month == m) do
  p d
  if d.weekend?
    # your code
  else
    # your code
  end
  d += 1
end

